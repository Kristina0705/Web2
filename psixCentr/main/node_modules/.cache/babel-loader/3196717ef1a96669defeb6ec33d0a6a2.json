{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\\\u041A\\u0440\\u0438\\u0441\\u0442\\u0438\\u043D\\u0430\\\\Downloads\\\\Telegram Desktop\\\\psixCentr\\\\main\\\\src\\\\components\\\\DocHome.tsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport Grid from '@mui/material/Grid';\nimport Box from '@mui/material/Box';\nimport TextField from '@mui/material/TextField';\nimport Button from '@mui/material/Button';\nimport Card from '@mui/material/Card';\nimport Modal from '@mui/material/Modal';\nimport AppealService from '../redux/services/AppealService';\nimport Snackbar from '@mui/material/Snackbar';\nimport { useNavigate } from 'react-router-dom';\nimport Alert from '@mui/material/Alert';\nimport { CardContent, Typography } from '@mui/material';\nimport \"../assets/css/scrollbar.css\";\nimport AnswerService from '../redux/services/AnswerService';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst style = {\n  position: 'absolute',\n  top: '50%',\n  left: '50%',\n  transform: 'translate(-50%, -50%)',\n  width: 500,\n  bgcolor: 'background.paper',\n  border: '2px solid #000',\n  boxShadow: 24,\n  p: 4,\n  display: \"flex\",\n  flexDirection: \"column\"\n};\n\nfunction DocHome() {\n  _s();\n\n  var _tmpAnswer$appeal, _tmpAnswer$appeal$use, _tmpAnswer$appeal2, _tmpAnswer$appeal2$us, _tmpAnswer$appeal3, _tmpAnswer$appeal4, _tmpAnswer$appeal5;\n\n  const navigate = useNavigate();\n  const [noDataShow, setNoDataShow] = React.useState(false);\n\n  const noDataHandleShow = () => setNoDataShow(true);\n\n  const noDataHandleClose = () => setNoDataShow(false);\n\n  const [show, setShow] = React.useState(false);\n\n  const showClose = () => setShow(false);\n\n  const handleShow = () => setShow(true);\n\n  const [appeals, setAppeals] = React.useState([]);\n  const [open, setOpen] = React.useState(false);\n\n  const handleClose = () => setOpen(false);\n\n  const handleOpen = () => setOpen(true);\n\n  const [key, setKey] = React.useState(false);\n  const [tmpAnswer, setTmpAnswer] = React.useState({\n    appeal: undefined,\n    answertext: \"\"\n  });\n\n  const textChange = event => {\n    setTmpAnswer({ ...tmpAnswer,\n      answertext: event.target.value.trim()\n    });\n  };\n\n  React.useEffect(() => {\n    if (key) return;\n    AppealService.getAppeals().then(res => {\n      if (res !== undefined) {\n        setAppeals(res);\n      }\n    });\n    setKey(true);\n  }, [appeals, key]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        mt: 2,\n        mx: 4,\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h4\",\n        sx: {},\n        children: \"\\u041E\\u0431\\u0440\\u0430\\u0449\\u0435\\u043D\\u0438\\u044F \\u043F\\u0430\\u0446\\u0438\\u0435\\u043D\\u0442\\u043E\\u0432\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        mt: 1,\n        rowSpacing: 3,\n        columnSpacing: 3,\n        columns: {\n          md: 12\n        },\n        children: appeals.map(appeal => /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          md: 4,\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            className: \"scrollbar\",\n            sx: {\n              border: \"1px #000 solid\",\n              overflowY: \"auto\"\n            },\n            children: /*#__PURE__*/_jsxDEV(CardContent, {\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                  children: \" \\u041F\\u0430\\u0446\\u0438\\u0435\\u043D\\u0442: \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 86,\n                  columnNumber: 25\n                }, this), \" \", appeal.user.surname, \" \", appeal.user.name]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 85,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                  children: \" \\u0422\\u0438\\u043F \\u043E\\u0431\\u0440\\u0430\\u0449\\u0435\\u043D\\u0438\\u044F: \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 89,\n                  columnNumber: 25\n                }, this), \" \", appeal.typeappeal]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 88,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                  children: \"\\u0414\\u0430\\u0442\\u0430 \\u043E\\u0431\\u0440\\u0430\\u0449\\u0435\\u043D\\u0438\\u044F:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 92,\n                  columnNumber: 25\n                }, this), \" \", appeal.date]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 91,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"contained\",\n                onClick: e => {\n                  setTmpAnswer({ ...tmpAnswer,\n                    appeal: appeal\n                  });\n                  handleOpen();\n                },\n                sx: {\n                  mt: 2\n                },\n                children: \"\\u0420\\u0430\\u0441\\u0441\\u043C\\u043E\\u0442\\u0440\\u0435\\u0442\\u044C\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 94,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 1\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      open: open,\n      onClose: handleClose,\n      children: /*#__PURE__*/_jsxDEV(Box, {\n        sx: style,\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          children: [/*#__PURE__*/_jsxDEV(\"b\", {\n            children: \" \\u041F\\u0430\\u0446\\u0438\\u0435\\u043D\\u0442: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 9\n          }, this), \" \", tmpAnswer === null || tmpAnswer === void 0 ? void 0 : (_tmpAnswer$appeal = tmpAnswer.appeal) === null || _tmpAnswer$appeal === void 0 ? void 0 : (_tmpAnswer$appeal$use = _tmpAnswer$appeal.user) === null || _tmpAnswer$appeal$use === void 0 ? void 0 : _tmpAnswer$appeal$use.surname, \" \", tmpAnswer === null || tmpAnswer === void 0 ? void 0 : (_tmpAnswer$appeal2 = tmpAnswer.appeal) === null || _tmpAnswer$appeal2 === void 0 ? void 0 : (_tmpAnswer$appeal2$us = _tmpAnswer$appeal2.user) === null || _tmpAnswer$appeal2$us === void 0 ? void 0 : _tmpAnswer$appeal2$us.name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          children: [/*#__PURE__*/_jsxDEV(\"b\", {\n            children: \" \\u0422\\u0438\\u043F \\u043E\\u0431\\u0440\\u0430\\u0449\\u0435\\u043D\\u0438\\u044F: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 9\n          }, this), \" \", tmpAnswer === null || tmpAnswer === void 0 ? void 0 : (_tmpAnswer$appeal3 = tmpAnswer.appeal) === null || _tmpAnswer$appeal3 === void 0 ? void 0 : _tmpAnswer$appeal3.typeappeal]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          children: [/*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"\\u0414\\u0430\\u0442\\u0430 \\u043E\\u0431\\u0440\\u0430\\u0449\\u0435\\u043D\\u0438\\u044F:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 9\n          }, this), \" \", tmpAnswer === null || tmpAnswer === void 0 ? void 0 : (_tmpAnswer$appeal4 = tmpAnswer.appeal) === null || _tmpAnswer$appeal4 === void 0 ? void 0 : _tmpAnswer$appeal4.date]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          children: [/*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"\\u0422\\u0435\\u043A\\u0441\\u0442 \\u043E\\u0431\\u0440\\u0430\\u0449\\u0435\\u043D\\u0438\\u044F: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 9\n          }, this), \" \", tmpAnswer === null || tmpAnswer === void 0 ? void 0 : (_tmpAnswer$appeal5 = tmpAnswer.appeal) === null || _tmpAnswer$appeal5 === void 0 ? void 0 : _tmpAnswer$appeal5.text]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          multiline: true,\n          label: \"\\u0422\\u0435\\u043A\\u0441\\u0442 \\u043E\\u0442\\u0432\\u0435\\u0442\\u0430\",\n          onChange: textChange,\n          fullWidth: true,\n          minRows: 7,\n          size: \"medium\",\n          sx: {\n            mt: 2,\n            mb: 2\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: e => {\n            if ((tmpAnswer === null || tmpAnswer === void 0 ? void 0 : tmpAnswer.answertext) === \"\") {\n              noDataHandleShow();\n              return;\n            }\n\n            AnswerService.AddAnswer(tmpAnswer).then(res => {\n              if (res) {\n                handleClose();\n                handleShow();\n                setTimeout(() => {\n                  navigate(0);\n                }, 3000);\n              }\n            });\n          },\n          variant: \"contained\",\n          children: \"\\u041E\\u0442\\u0432\\u0435\\u0442\\u0438\\u0442\\u044C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 3\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 1\n    }, this), /*#__PURE__*/_jsxDEV(Snackbar, {\n      open: noDataShow,\n      autoHideDuration: 5000,\n      onClose: noDataHandleClose,\n      children: /*#__PURE__*/_jsxDEV(Alert, {\n        onClose: noDataHandleClose,\n        severity: \"warning\",\n        sx: {\n          width: '100%'\n        },\n        children: \"\\u0417\\u0430\\u043F\\u043E\\u043B\\u043D\\u0438\\u0442\\u0435 \\u0432\\u0441\\u0435 \\u043F\\u043E\\u043B\\u044F.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 1\n    }, this), /*#__PURE__*/_jsxDEV(Snackbar, {\n      open: show,\n      autoHideDuration: 5000,\n      onClose: showClose,\n      children: /*#__PURE__*/_jsxDEV(Alert, {\n        onClose: showClose,\n        severity: \"success\",\n        sx: {\n          width: '100%'\n        },\n        children: \"\\u041E\\u0442\\u0432\\u0435\\u0442 \\u0443\\u0441\\u043F\\u0435\\u0448\\u043D\\u043E \\u043E\\u0442\\u043F\\u0440\\u0430\\u0432\\u043B\\u0435\\u043D.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(DocHome, \"wPpcbd9EruU9SjJKBArncrPDtio=\", false, function () {\n  return [useNavigate];\n});\n\n_c = DocHome;\nexport default DocHome;\n\nvar _c;\n\n$RefreshReg$(_c, \"DocHome\");","map":{"version":3,"sources":["C:/Users/Кристина/Downloads/Telegram Desktop/psixCentr/main/src/components/DocHome.tsx"],"names":["React","Grid","Box","TextField","Button","Card","Modal","AppealService","Snackbar","useNavigate","Alert","CardContent","Typography","AnswerService","style","position","top","left","transform","width","bgcolor","border","boxShadow","p","display","flexDirection","DocHome","navigate","noDataShow","setNoDataShow","useState","noDataHandleShow","noDataHandleClose","show","setShow","showClose","handleShow","appeals","setAppeals","open","setOpen","handleClose","handleOpen","key","setKey","tmpAnswer","setTmpAnswer","appeal","undefined","answertext","textChange","event","target","value","trim","useEffect","getAppeals","then","res","mt","mx","alignItems","md","map","overflowY","user","surname","name","typeappeal","date","e","text","mb","AddAnswer","setTimeout"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport \"bootstrap/dist/css/bootstrap.min.css\"\r\nimport Grid from '@mui/material/Grid'\r\nimport Box from '@mui/material/Box'\r\nimport TextField from '@mui/material/TextField'\r\nimport Button from '@mui/material/Button'\r\nimport Card from '@mui/material/Card'\r\nimport Modal from '@mui/material/Modal';\r\nimport AppealService from '../redux/services/AppealService';\r\nimport Snackbar from '@mui/material/Snackbar';\r\nimport {useNavigate} from 'react-router-dom';\r\nimport Alert from '@mui/material/Alert'; \r\nimport { Appeal } from '../models/AppealModel';\r\nimport { CardContent, Typography, SelectChangeEvent } from '@mui/material';\r\nimport \"../assets/css/scrollbar.css\"\r\nimport { PostAnswer } from '../models/AnswerModel';\r\nimport AnswerService from '../redux/services/AnswerService';\r\n\r\nconst style = {\r\n    position: 'absolute' as 'absolute',\r\n    top: '50%',\r\n    left: '50%',\r\n    transform: 'translate(-50%, -50%)',\r\n    width: 500,\r\n    bgcolor: 'background.paper',\r\n    border: '2px solid #000',\r\n    boxShadow: 24,\r\n    p: 4,\r\n    display:\"flex\",\r\n    flexDirection:\"column\",\r\n  };\r\n\r\n  function DocHome() {\r\n\r\n    const navigate = useNavigate();\r\n    const [noDataShow,setNoDataShow] = React.useState(false);\r\n    const noDataHandleShow = () => setNoDataShow(true)\r\n    const noDataHandleClose = () => setNoDataShow(false)\r\n    const [show,setShow] = React.useState(false);\r\n   const showClose = () => setShow(false);\r\n    const handleShow = () => setShow(true);\r\n    const [appeals,setAppeals] = React.useState<Appeal[]>([]);\r\n    const [open,setOpen] = React.useState(false);\r\n    const handleClose = () => setOpen(false);\r\n    const handleOpen = () => setOpen(true);\r\n    const [key,setKey] = React.useState<boolean>(false);\r\n    const [tmpAnswer,setTmpAnswer] = React.useState<PostAnswer>({\r\n        appeal:undefined,\r\n        answertext:\"\"\r\n    })\r\n    const textChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n        setTmpAnswer({...tmpAnswer,answertext:event.target.value.trim()});\r\n    }\r\n    React.useEffect(() => {\r\n        if (key) return;\r\n        AppealService.getAppeals().then((res)=>{\r\n          if (res !== undefined){\r\n            setAppeals(res)\r\n          }\r\n        })\r\n        setKey(true)\r\n      }, [appeals,key])\r\n\r\n    return (\r\n<>\r\n<Box sx={{\r\n    mt:2,\r\n    mx:4,\r\n    display:\"flex\",\r\n    flexDirection:\"column\",\r\n    alignItems:\"center\",\r\n}}>\r\n    <Typography variant=\"h4\" sx={{\r\n    }}>\r\n        Обращения пациентов\r\n    </Typography>\r\n    <Grid container mt={1} rowSpacing={3} columnSpacing={3} columns={{md: 12}} >\r\n        {appeals.map((appeal)=>(\r\n            <Grid item md={4}>\r\n            <Card className=\"scrollbar\" sx={{\r\n                border:\"1px #000 solid\",\r\n                overflowY:\"auto\"\r\n            }}>\r\n                <CardContent>\r\n                    <Typography>\r\n                        <b> Пациент: </b> {appeal.user.surname} {appeal.user.name}\r\n                    </Typography>\r\n                    <Typography >\r\n                        <b> Тип обращения: </b> {appeal.typeappeal}\r\n                    </Typography>\r\n                    <Typography >\r\n                        <b>Дата обращения:</b> {appeal.date}\r\n                    </Typography>\r\n                    <Button variant=\"contained\" onClick={e=>{setTmpAnswer({...tmpAnswer,appeal:appeal});handleOpen()}} sx={{\r\n                        mt:2\r\n                    }}>\r\n                        Рассмотреть\r\n                    </Button>\r\n                </CardContent>\r\n            </Card>\r\n        </Grid>\r\n        ))}\r\n        \r\n    </Grid>\r\n</Box>\r\n<Modal open={open}\r\n        onClose={handleClose}>\r\n    <Box sx={style}>\r\n    <Typography>\r\n        <b> Пациент: </b> {tmpAnswer?.appeal?.user?.surname} {tmpAnswer?.appeal?.user?.name}\r\n    </Typography>\r\n    <Typography >\r\n        <b> Тип обращения: </b> {tmpAnswer?.appeal?.typeappeal}\r\n    </Typography>\r\n    <Typography >\r\n        <b>Дата обращения:</b> {tmpAnswer?.appeal?.date}\r\n    </Typography>\r\n      <Typography>\r\n        <b>Текст обращения: </b> {tmpAnswer?.appeal?.text} \r\n      </Typography>\r\n      <TextField multiline label=\"Текст ответа\" onChange={textChange} fullWidth minRows={7} size=\"medium\" sx={{\r\n    mt:2,\r\n    mb:2\r\n  }}\r\n  >\r\n\r\n  </TextField>\r\n  <Button onClick={e=>{\r\n    if(tmpAnswer?.answertext===\"\"){noDataHandleShow();return;}\r\n    AnswerService.AddAnswer(tmpAnswer).then((res)=>{\r\n        if (res){\r\n            handleClose();\r\n            handleShow();\r\n            setTimeout(()=>{navigate(0)},3000) ;\r\n        }\r\n    });\r\n\r\n    \r\n  }} variant=\"contained\">\r\n    Ответить\r\n  </Button>\r\n    </Box>\r\n</Modal>\r\n<Snackbar open={noDataShow} autoHideDuration={5000} onClose={noDataHandleClose}>\r\n        <Alert onClose={noDataHandleClose} severity=\"warning\" sx={{ width: '100%' }}>\r\n          Заполните все поля.\r\n        </Alert>\r\n      </Snackbar>\r\n      <Snackbar open={show} autoHideDuration={5000} onClose={showClose}>\r\n        <Alert onClose={showClose} severity=\"success\" sx={{ width: '100%' }}>\r\n          Ответ успешно отправлен.\r\n        </Alert>\r\n      </Snackbar>\r\n</>\r\n );\r\n}\r\nexport default DocHome;"]},"metadata":{},"sourceType":"module"}